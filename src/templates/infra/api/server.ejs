const express = require('express')
<% if(props.graphql) {%>const graphql = require('./graphql')<% }%>
<% if(props.rest) {%>const rest = require('./rest')<% }%>

async function start (config) {
  const app = express()

  <% if(props.rest) {%>await rest(app, config)<% }%>
  <% if(props.graphql) {%>await graphql(app, config)<% }%>
 
  return app.listen(
    { port: config.api.port },
    () => console.log(`🚀 Server UP and 🌪️ Spinning on port ${config.api.port}`))
}

module.exports = start
module.exports.start = start
