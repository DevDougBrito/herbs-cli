module.exports = async ({ 
    generate, 
    packageManager, 
    options, 
    name = 'herbs-project', 
    description = 'project generated by herbs CLI S2', 
    author = 'herbs CLI', 
    license = 'MIT' 
}) => async () => { 
    await generate({
        template: 'package.json.ejs',
        target: `package.json`,
        props: {
            name, description, author, license
        }
    })
    const packages = [
        'buchu',
        'gotu',
        'herbs2gql',
        'deepmerge',
        'graphql',
        'apollo-server-express',
        'apollo-server',
        'sugar-env',
        'dotenv']

    if(options.mongo) 
        packages.push('mongodb')

    await packageManager.add(packages, { force: 'npm'})
}

